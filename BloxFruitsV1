-- ðŸ“¦ Blox Fruits Tab
local bfTab = Window:NewTab("Blox Fruits")
local bfSection = bfTab:NewSection("FunÃ§Ãµes EspecÃ­ficas")

-- Auto Farm Level
bfSection:NewToggle("Auto Farm Level", "Ataca inimigos automaticamente para upar", function(state)
    getgenv().autoFarm = state
    while getgenv().autoFarm do
        local player = game.Players.LocalPlayer
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:FindFirstChild("HumanoidRootPart")

        -- Simula ataque em NPCs perto
        for _, v in pairs(workspace.Enemies:GetChildren()) do
            if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                if (v.HumanoidRootPart.Position - hrp.Position).Magnitude < 100 then
                    hrp.CFrame = CFrame.new(v.HumanoidRootPart.Position + Vector3.new(0,5,0))
                    v.Humanoid.Health = 0  -- Simula ataque (pode ser substituÃ­do por firing server)
                end
            end
        end
        task.wait(0.5)
    end
end)

-- Auto Haki
bfSection:NewToggle("Auto Haki", "Ativa Haki automaticamente ao entrar em combate", function(state)
    getgenv().autoHaki = state
    while getgenv().autoHaki do
        local args = {[1] = "Buso"}
        game:GetService("ReplicatedStorage").Remotes.Combat:FireServer(unpack(args))
        task.wait(5)
    end
end)

-- Teleport Ilhas
bfSection:NewDropdown("Teleport Ilha", "Teleporta para ilhas conhecidas", {
    "Starter Island", "Middle Town", "Jungle", "Pirate Village", "Desert", "Frozen Village"
}, function(option)
    local pos = {
        ["Starter Island"] = Vector3.new(939, 15, 2362),
        ["Middle Town"] = Vector3.new(5371, 15, 474),
        ["Jungle"] = Vector3.new(-1248, 15, 3892),
        ["Pirate Village"] = Vector3.new(-1122, 15, 4914),
        ["Desert"] = Vector3.new(1143, 15, 4373),
        ["Frozen Village"] = Vector3.new(1183, 15, -1323),
    }
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(pos[option])
end)

-- ESP Inimigos
bfSection:NewToggle("ESP Inimigos", "Destaca NPCs inimigos", function(state)
    getgenv().npcESP = state
    while getgenv().npcESP do
        for _, npc in pairs(workspace.Enemies:GetChildren()) do
            if not npc:FindFirstChild("ESP") then
                local esp = Instance.new("BillboardGui", npc)
                esp.Name = "ESP"
                esp.Size = UDim2.new(4,0,1,0)
                esp.AlwaysOnTop = true
                esp.Adornee = npc:FindFirstChild("Head")
                local label = Instance.new("TextLabel", esp)
                label.Text = npc.Name
                label.TextColor3 = Color3.fromRGB(255, 0, 0)
                label.Size = UDim2.new(1,0,1,0)
                label.BackgroundTransparency = 1
                label.TextScaled = true
            end
        end
        task.wait(1)
    end
    for _, npc in pairs(workspace.Enemies:GetChildren()) do
        if npc:FindFirstChild("ESP") then
            npc.ESP:Destroy()
        end
    end
end)

-- Anti Lag
bfSection:NewButton("Anti Lag", "Remove efeitos visuais para melhorar desempenho", function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Smoke") then
            v.Enabled = false
        end
    end
    game.Lighting.GlobalShadows = false
    game.Lighting.FogEnd = 1e10
end)
